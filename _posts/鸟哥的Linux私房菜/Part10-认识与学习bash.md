---
title: Part10 认识与学习bash
date: 2022-03-31 15:06:08
tags:
- 鸟哥的Linux私房菜
---



# 10.5 数据流重定向

标准输入　　(stdin) ：代码为 0 ，使用 < 或 << ；
标准输出　　(stdout)：代码为 1 ，使用 > 或 >> ；
标准错误输出(stderr)：代码为 2 ，使用 2> 或 2>> ；

1> ：以覆盖的方法将『正确的数据』输出到指定的文件或装置上；
1>>：以累加的方法将『正确的数据』输出到指定的文件或装置上；
2> ：以覆盖的方法将『错误的数据』输出到指定的文件或装置上；
2>>：以累加的方法将『错误的数据』输出到指定的文件或装置上；

/dev/null 垃圾桶黑洞装置与特殊写法

----

命令下达情况	说明
cmd1 && cmd2	1. 若 cmd1 运行完毕且正确运行($?=0)，则开始运行 cmd2。<br> 2. 若 cmd1 运行完毕且为错误 ($?≠0)，则 cmd2 不运行。
cmd1 || cmd2	1. 若 cmd1 运行完毕且正确运行($?=0)，则 cmd2 不运行。<br> 2. 若 cmd1 运行完毕且为错误 ($?≠0)，则开始运行 cmd2。

---

测试 /tmp/abc 是否存在，若不存在则予以创建，若存在就不作任何事情
ls /tmp/abc || mkdir /tmp/abc && touch /tmp/abc/hehe

ls /tmp/abc && touch /tmp/abc/hehe

# 10.6 管道命令

## 提取命令
### cut 将一行信息当中取出想要的
对同一行的数据进行分解，难以处理多个空格相连的情况
cut -d'分隔字符' -f fields

|选项 | 含义|
|---|---|
|-d  |后面接分隔字符。与 -f 一起使用；|
|-f  |取出第几段的意思|
|-c  |以字符 (characters) 的单位取出固定字符区间；|


### grep     分析一行信息，提取整行
grep [-acinv] [--color=auto] '搜寻字符串' filename

|选项 | 含义|
| ------ | ------ | 
|-a |将 binary 文件以 text 文件的方式搜寻数据|
|-c |计算找到 '搜寻字符串' 的次数|
|-i |忽略大小写的不同，所以大小写视为相同|
|-n |顺便输出行号|
|-v |反向选择|
|--color=auto |可以将找到的关键词部分加上颜色|

## 排序命令

### sort
进行排序
sort [-fbMnrtuk] [file or stdin]

|选项 | 含义|
| ------ | ------ | 
|-f  |忽略大小写的差异，例如 A 与 a 视为编码相同|
|-b  |忽略最前面的空格符部分|
|-M  |以月份的名字来排序，例如 JAN, DEC 等等的排序方法|
|-n  |使用『纯数字』进行排序(默认是以文字型态来排序的)|
|-r  |反向排序,原来是从小到大，-r后从大到小|
|-u  |就是 uniq ，相同的数据中，仅出现一行代表|
|-t  |分隔符，默认是用 [tab] 键来分隔|
|-k  |以那个区间 (field) 来进行排序的意思|

```
sort
1
10
11
12
13
2
20
3
4
sort -n # 如果不加n，就是用字典序排序了
1
2
3
4
10
11
12
13
20
sort -rn    
sort -t ':'  # 用冒号分割
```

### uniq
将重复的数据列出一行显示
uniq [-ic]

| 选项 | 含义 | 
| ------ | ------ | 
| -i | 忽略大小写字符的不同行 | 
| -c | 进行计数 |

```
uniq -c | sort -rn | head -n 5  # 找到次数最多的几个
```

### wc
wc [-lwm]

| 选项 | 含义 | 
| ------ | ------ | 
| -l | 仅列出行 | 
| -w  | 仅列出多少字(英文单字) |
| -m  | 多少字符 |

```
cat /etc/passwd | wc -l   # 目前你的账号文件中有多少个账号时
```












